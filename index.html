<!DOCTYPE html>
<html lang="en">
<head>

<script>
/* ===== Signage-Lite Timer Registry (captures existing intervals/timeouts) ===== */
(function(){
  const _setInterval = window.setInterval.bind(window);
  const _setTimeout  = window.setTimeout.bind(window);
  const _clearInterval = window.clearInterval.bind(window);
  const _clearTimeout  = window.clearTimeout.bind(window);

  const intervals = new Set();
  const timeouts  = new Set();

  window.__SIGNAGE_TIMERS__ = { intervals, timeouts, _clearInterval, _clearTimeout };

  window.setInterval = function(fn, ms){
    const id = _setInterval(fn, ms);
    intervals.add(id);
    return id;
  };
  window.setTimeout = function(fn, ms){
    const id = _setTimeout(fn, ms);
    timeouts.add(id);
    return id;
  };
  window.clearInterval = function(id){
    intervals.delete(id);
    return _clearInterval(id);
  };
  window.clearTimeout = function(id){
    timeouts.delete(id);
    return _clearTimeout(id);
  };
})();
</script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color" content="#4c1d95">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>SIEA Prayer Time</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            background: linear-gradient(135deg, #4c1d95 0%, #7c2d12 100%);
            color: white;
            font-family: 'Segoe UI', Tahoma, sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .header { text-align: center; padding: 15px; background: rgba(0,0,0,0.2); }
        .app-title { font-size: 1.5rem; font-weight: 800; }
        .date-display { font-size: 0.9rem; opacity: 0.9; margin-top: 5px; }
        .tabs { display: flex; background: rgba(0,0,0,0.3); margin: 10px; border-radius: 10px; overflow: hidden; }
        .tab { flex: 1; padding: 12px; text-align: center; font-weight: 600; cursor: pointer; border: none; background: transparent; color: white; font-size: 0.9rem; }
        .tab.active { background: #34d399; color: #065f46; }
        .content { flex: 1; padding: 10px 15px; overflow-y: auto; }
        .display-tab, .settings-tab, .setup-tab { display: none; }
        .display-tab.active, .settings-tab.active, .setup-tab.active { display: block; }
        .times-table { width: 100%; border-collapse: collapse; margin-bottom: 15px; table-layout: fixed; }
        .times-table th, .times-table td { padding: 10px 4px; text-align: center; border: 1px solid rgba(255,255,255,0.3); font-size: 0.85rem; font-weight: 600; }
        .times-table thead th { background: rgba(52,211,153,0.3); color: #34d399; }
        .times-table th:first-child, .times-table td:first-child { width: 55px; background: rgba(52,211,153,0.15); color: #34d399; font-size: 0.75rem; }
        .times-table tbody tr:first-child td:not(:first-child) { color: #fde047; }
        .times-table tbody tr:last-child td:not(:first-child) { color: #a5f3fc; }
        .countdown-box { background: rgba(0,0,0,0.3); border-radius: 15px; padding: 25px; text-align: center; margin-top: 10px; }
        .countdown-label { font-size: 2rem; font-weight: 800; color: #fde047; text-shadow: 0 0 10px rgba(253,224,71,0.5); }
        .countdown-time { font-size: 4rem; font-weight: 900; margin: 15px 0; font-variant-numeric: tabular-nums; }
        .countdown-status { font-size: 1.2rem; color: #fbbf24; }
        .current-time { margin-top: 15px; opacity: 0.8; }
        .section-title { font-size: 1rem; font-weight: 700; margin: 15px 0 10px; padding: 10px; background: rgba(52,211,153,0.2); border-radius: 8px; border-left: 4px solid #34d399; }
        .iqamah-settings { background: rgba(255,255,255,0.1); border-radius: 10px; padding: 15px; }
        .iqamah-row { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .iqamah-row:last-child { border-bottom: none; }
        .iqamah-label { font-weight: 600; }
        .iqamah-input { width: 60px; padding: 8px; border: none; border-radius: 8px; text-align: center; font-size: 1rem; font-weight: bold; }
        .month-tabs { display: flex; flex-wrap: wrap; gap: 5px; margin-bottom: 15px; }
        .month-btn { padding: 8px 10px; background: rgba(255,255,255,0.1); border: none; border-radius: 8px; color: white; cursor: pointer; font-size: 0.75rem; }
        .month-btn.active { background: #34d399; color: #065f46; }
        .month-btn.current { background: #10b981; box-shadow: 0 0 8px rgba(16,185,129,0.5); }
        .time-inputs { max-height: 250px; overflow-y: auto; background: rgba(0,0,0,0.2); border-radius: 10px; padding: 10px; }
        .day-row { display: flex; gap: 5px; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px; margin-bottom: 5px; }
        .day-row label { width: 25px; font-weight: 600; font-size: 0.8rem; }
        .day-row input { flex: 1; padding: 6px 3px; border: none; border-radius: 5px; text-align: center; font-size: 0.8rem; min-width: 0; }
        .btn { width: 100%; padding: 14px; border: none; border-radius: 10px; font-size: 1rem; font-weight: bold; cursor: pointer; margin-top: 15px; }
        .btn-primary { background: #34d399; color: #065f46; }
        .btn-secondary { background: rgba(255,255,255,0.2); color: white; margin-top: 10px; }
        .toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%) translateY(100px); background: #065f46; padding: 12px 24px; border-radius: 10px; font-weight: 600; opacity: 0; transition: all 0.3s; z-index: 1000; }
        .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
        .footer { text-align: center; padding: 10px; font-size: 0.75rem; opacity: 0.7; }
        @media (max-width: 360px) { .countdown-time { font-size: 3rem; } .countdown-label { font-size: 1.5rem; } }
    </style>


<style>
/* ===== LANDSCAPE TV (HORIZONTAL) STABLE LAYOUT ===== */
html, body { width: 100%; height: 100%; overflow: hidden; }
.content { overflow-y: auto; height: calc(100vh - 140px); }

/* 3-column table sized for 40"+ TV @ ~3m without overflow */
.times-table.vertical-table { 
  width: min(96vw, 1100px); 
  margin: 14px auto 10px auto; 
  table-layout: auto;
}
.times-table.vertical-table th, 
.times-table.vertical-table td{
  padding: 14px 10px;
  font-size: 1.35rem;
  white-space: nowrap;
}
.times-table.vertical-table td:first-child{
  text-align: left;
  padding-left: 16px;
  font-weight: 800;
}

/* Next panel */
.next-panel{
  width: min(96vw, 1100px);
  margin: 10px auto 0 auto;
  padding: 12px 14px;
  border: 2px solid rgba(255,255,255,0.20);
  border-radius: 14px;
  background: rgba(0,0,0,0.18);
}
.next-title{ font-size: 1.6rem; font-weight: 900; text-align:center; margin-bottom: 8px; }
.next-times{ display:flex; gap: 12px; justify-content: space-between; }
.next-time-row{ flex:1; display:flex; justify-content: space-between; padding: 10px 12px; border-radius: 12px; background: rgba(255,255,255,0.06); }
.nt-label{ font-size: 1.15rem; font-weight: 800; opacity: .92;}
.nt-time{ font-size: 1.5rem; font-weight: 900; }

/* Countdown */
.countdown-label{ font-size: 1.6rem; }
.countdown-time{ font-size: 3.2rem; }

/* On 720p TV boxes, scale down slightly to avoid clipping */
@media (max-width: 1280px){
  .times-table.vertical-table th, .times-table.vertical-table td{ font-size: 1.15rem; padding: 12px 8px; }
  .countdown-time{ font-size: 2.7rem; }
}
</style>

</head>
<body>

    <div class="header">
        <div class="app-title">üåô SIEA Prayer Time</div>
        <div class="date-display" id="dateDisplay">Loading...</div>
    </div>
    <div class="tabs">
        <button class="tab active" onclick="switchTab('display')">üì∫ Display</button>
        <button class="tab" onclick="switchTab('settings')">‚öôÔ∏è Iqamah</button>
        <button class="tab" onclick="switchTab('setup')">üìÖ Setup</button>
    </div>
    <div class="content">
        <div id="displayTab" class="display-tab active">
            
<table class="times-table vertical-table">
  <thead>
    <tr>
      <th>Prayer</th>
      <th>Azan</th>
      <th>Iqamah</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Fajr</td>
      <td id="azan-fajr">--:--</td>
      <td id="iqamah-fajr">--:--</td>
    </tr>
    <tr>
      <td>Dhuhr</td>
      <td id="azan-dhuhr">--:--</td>
      <td id="iqamah-dhuhr">--:--</td>
    </tr>
    <tr>
      <td>Asr</td>
      <td id="azan-asr">--:--</td>
      <td id="iqamah-asr">--:--</td>
    </tr>
    <tr>
      <td>Maghrib</td>
      <td id="azan-maghrib">--:--</td>
      <td id="iqamah-maghrib">--:--</td>
    </tr>
    <tr>
      <td>Isha</td>
      <td id="azan-isha">--:--</td>
      <td id="iqamah-isha">--:--</td>
    </tr>
  </tbody>
</table>

            <div class="countdown-box">
  <div class="next-panel">
    <div class="next-title" id="nextPrayerName">Next Prayer</div>
    <div class="next-times">
      <div class="next-time-row"><span class="nt-label">Azan</span><span class="nt-time" id="nextAzanTime">--:--</span></div>
      <div class="next-time-row"><span class="nt-label">Iqamah</span><span class="nt-time" id="nextIqamahTime">--:--</span></div>
    </div>
  </div>

  <div class="countdown-label" id="countdownLabel">Iqamah</div>
  <div class="countdown-time" id="countdownTime">--:--:--</div>
  <div class="countdown-status" id="countdownStatus"></div>
  <div class="current-time" id="currentTime">Current: --:--:--</div>
</div>
        </div>
        <div id="settingsTab" class="settings-tab">
            <div class="section-title">‚è±Ô∏è Iqamah Delay (minutes)</div>
            <div class="iqamah-settings">
                <div class="iqamah-row"><span class="iqamah-label">üåô Fajr</span><div><input type="number" id="fajrDelay" class="iqamah-input" value="15" min="1" max="60"> min</div></div>
                <div class="iqamah-row"><span class="iqamah-label">‚òÄÔ∏è Dhuhr</span><div><input type="number" id="dhuhrDelay" class="iqamah-input" value="10" min="1" max="60"> min</div></div>
                <div class="iqamah-row"><span class="iqamah-label">üå§Ô∏è Asr</span><div><input type="number" id="asrDelay" class="iqamah-input" value="10" min="1" max="60"> min</div></div>
                <div class="iqamah-row"><span class="iqamah-label">üåÖ Maghrib</span><div><input type="number" id="maghribDelay" class="iqamah-input" value="2" min="1" max="60"> min</div></div>
                <div class="iqamah-row"><span class="iqamah-label">üåÉ Isha</span><div><input type="number" id="ishaDelay" class="iqamah-input" value="10" min="1" max="60"> min</div></div>
            </div>
            <button class="btn btn-primary" onclick="saveIqamahSettings()">üíæ Save Iqamah Settings</button>
            <button class="btn btn-secondary" onclick="resetIqamahSettings()">üîÑ Reset to Defaults</button>
        </div>
        <div id="setupTab" class="setup-tab">
            <div class="section-title">üìÖ Select Month</div>
            <div class="month-tabs" id="monthTabs"></div>
            <div class="section-title">‚è∞ Prayer Times (Azan)</div>
            <div class="time-inputs" id="timeInputs"></div>
            <button class="btn btn-primary" onclick="savePrayerTimes()">üíæ Save Prayer Times</button>
<div class="footer">¬© SIEA Prayer Time v2.0</div>
    <div class="toast" id="toast">Saved!</div>

<script>
// Default May timing for missing months
const MAY_DEFAULT = { fajr: "03:20", dhuhr: "13:30", asr: "19:00", maghrib: "21:22", isha: "22:50" };

// Your existing prayer data
const PRAYER_DATA = {
    "2026-01-01": { fajr: "06:46", dhuhr: "12:17", asr: "13:50", maghrib: "16:08", isha: "17:28" },
    "2026-01-02": { fajr: "06:45", dhuhr: "12:17", asr: "13:51", maghrib: "16:09", isha: "17:29" },
    "2026-01-03": { fajr: "06:45", dhuhr: "12:17", asr: "13:52", maghrib: "16:10", isha: "17:30" },
    "2026-01-04": { fajr: "06:45", dhuhr: "12:18", asr: "13:53", maghrib: "16:11", isha: "17:31" },
    "2026-01-05": { fajr: "06:45", dhuhr: "12:19", asr: "13:54", maghrib: "16:12", isha: "17:32" },
    "2026-01-06": { fajr: "06:45", dhuhr: "12:19", asr: "13:55", maghrib: "16:14", isha: "17:34" },
    "2026-01-07": { fajr: "06:45", dhuhr: "12:20", asr: "13:56", maghrib: "16:15", isha: "17:35" },
    "2026-01-08": { fajr: "06:45", dhuhr: "12:20", asr: "13:58", maghrib: "16:16", isha: "17:36" },
    "2026-01-09": { fajr: "06:45", dhuhr: "12:20", asr: "13:59", maghrib: "16:18", isha: "17:38" },
    "2026-01-10": { fajr: "06:44", dhuhr: "12:21", asr: "14:00", maghrib: "16:19", isha: "17:39" },
    "2026-01-11": { fajr: "06:44", dhuhr: "12:21", asr: "14:02", maghrib: "16:21", isha: "17:41" },
    "2026-01-12": { fajr: "06:44", dhuhr: "12:21", asr: "14:03", maghrib: "16:22", isha: "17:42" },
    "2026-01-13": { fajr: "06:43", dhuhr: "12:22", asr: "14:04", maghrib: "16:24", isha: "17:44" },
    "2026-01-14": { fajr: "06:43", dhuhr: "12:22", asr: "14:06", maghrib: "16:25", isha: "17:45" },
    "2026-01-15": { fajr: "06:42", dhuhr: "12:22", asr: "14:07", maghrib: "16:27", isha: "17:47" },
    "2026-01-16": { fajr: "06:42", dhuhr: "12:23", asr: "14:08", maghrib: "16:28", isha: "17:48" },
    "2026-01-17": { fajr: "06:41", dhuhr: "12:23", asr: "14:10", maghrib: "16:30", isha: "17:50" },
    "2026-01-18": { fajr: "06:41", dhuhr: "12:23", asr: "14:11", maghrib: "16:32", isha: "17:52" },
    "2026-01-19": { fajr: "06:41", dhuhr: "12:24", asr: "14:12", maghrib: "16:33", isha: "17:53" },
    "2026-01-20": { fajr: "06:39", dhuhr: "12:24", asr: "14:13", maghrib: "16:35", isha: "17:55" },
    "2026-01-21": { fajr: "06:38", dhuhr: "12:24", asr: "14:14", maghrib: "16:37", isha: "17:57" },
    "2026-01-22": { fajr: "06:37", dhuhr: "12:25", asr: "14:16", maghrib: "16:39", isha: "17:59" },
    "2026-01-23": { fajr: "06:36", dhuhr: "12:25", asr: "14:18", maghrib: "16:40", isha: "18:00" },
    "2026-01-24": { fajr: "06:35", dhuhr: "12:25", asr: "14:19", maghrib: "16:42", isha: "18:02" },
    "2026-01-25": { fajr: "06:34", dhuhr: "12:25", asr: "14:20", maghrib: "16:44", isha: "18:04" },
    "2026-01-26": { fajr: "06:32", dhuhr: "12:25", asr: "14:22", maghrib: "16:46", isha: "18:06" },
    "2026-01-27": { fajr: "06:31", dhuhr: "12:25", asr: "14:24", maghrib: "16:47", isha: "18:07" },
    "2026-01-28": { fajr: "06:29", dhuhr: "12:26", asr: "14:26", maghrib: "16:49", isha: "18:09" },
    "2026-01-29": { fajr: "06:28", dhuhr: "12:26", asr: "14:28", maghrib: "16:51", isha: "18:11" },
    "2026-01-30": { fajr: "06:26", dhuhr: "12:26", asr: "14:29", maghrib: "16:53", isha: "18:13" },
    "2026-01-31": { fajr: "06:25", dhuhr: "12:26", asr: "14:30", maghrib: "16:55", isha: "18:15" },
    "2026-02-01": { fajr: "06:23", dhuhr: "12:26", asr: "14:31", maghrib: "16:57", isha: "18:17" },
    "2026-02-02": { fajr: "06:21", dhuhr: "12:26", asr: "14:33", maghrib: "16:59", isha: "18:19" },
    "2026-02-03": { fajr: "06:20", dhuhr: "12:26", asr: "14:34", maghrib: "17:00", isha: "18:20" },
    "2026-02-04": { fajr: "06:18", dhuhr: "12:27", asr: "14:35", maghrib: "17:02", isha: "18:22" },
    "2026-02-05": { fajr: "06:17", dhuhr: "12:27", asr: "14:37", maghrib: "17:04", isha: "18:24" },
    "2026-02-06": { fajr: "06:15", dhuhr: "12:27", asr: "14:39", maghrib: "17:06", isha: "18:26" },
    "2026-02-07": { fajr: "06:14", dhuhr: "12:27", asr: "14:40", maghrib: "17:08", isha: "18:28" },
    "2026-02-08": { fajr: "06:12", dhuhr: "12:27", asr: "14:42", maghrib: "17:10", isha: "18:30" },
    "2026-02-09": { fajr: "06:11", dhuhr: "12:27", asr: "14:43", maghrib: "17:12", isha: "18:32" },
    "2026-02-10": { fajr: "06:09", dhuhr: "12:27", asr: "14:44", maghrib: "17:14", isha: "18:34" },
    "2026-02-11": { fajr: "06:07", dhuhr: "12:27", asr: "14:46", maghrib: "17:15", isha: "18:35" },
    "2026-02-12": { fajr: "06:06", dhuhr: "12:27", asr: "14:48", maghrib: "17:17", isha: "18:37" },
    "2026-02-13": { fajr: "06:04", dhuhr: "12:27", asr: "14:49", maghrib: "17:19", isha: "18:39" },
    "2026-02-14": { fajr: "06:03", dhuhr: "12:27", asr: "14:51", maghrib: "17:21", isha: "18:41" },
    "2026-02-15": { fajr: "06:01", dhuhr: "12:27", asr: "14:52", maghrib: "17:23", isha: "18:43" },
    "2026-02-16": { fajr: "06:00", dhuhr: "12:27", asr: "14:53", maghrib: "17:25", isha: "18:45" },
    "2026-02-17": { fajr: "05:58", dhuhr: "12:27", asr: "14:54", maghrib: "17:27", isha: "18:47" },
    "2026-02-18": { fajr: "05:56", dhuhr: "12:26", asr: "14:56", maghrib: "17:29", isha: "18:49" },
    "2026-02-19": { fajr: "05:55", dhuhr: "12:26", asr: "14:57", maghrib: "17:30", isha: "18:50" },
    "2026-02-20": { fajr: "05:53", dhuhr: "12:26", asr: "14:14", maghrib: "17:31", isha: "18:51" },
    "2026-02-21": { fajr: "05:51", dhuhr: "12:26", asr: "15:01", maghrib: "17:33", isha: "18:53" },
    "2026-02-22": { fajr: "05:50", dhuhr: "12:26", asr: "15:02", maghrib: "17:35", isha: "18:55" },
    "2026-02-23": { fajr: "05:48", dhuhr: "12:26", asr: "15:03", maghrib: "17:37", isha: "18:57" },
    "2026-02-24": { fajr: "05:46", dhuhr: "12:26", asr: "15:03", maghrib: "17:39", isha: "18:59" },
    "2026-02-25": { fajr: "05:44", dhuhr: "12:26", asr: "15:04", maghrib: "17:41", isha: "19:01" },
    "2026-02-26": { fajr: "05:41", dhuhr: "12:26", asr: "15:05", maghrib: "17:43", isha: "19:03" },
    "2026-02-27": { fajr: "05:39", dhuhr: "12:26", asr: "15:06", maghrib: "17:44", isha: "19:04" },
    "2026-02-28": { fajr: "05:36", dhuhr: "12:25", asr: "15:07", maghrib: "17:46", isha: "19:06" },
    "2026-03-01": { fajr: "05:34", dhuhr: "12:25", asr: "15:09", maghrib: "17:48", isha: "19:08" },
    "2026-03-02": { fajr: "05:31", dhuhr: "12:25", asr: "15:10", maghrib: "17:50", isha: "19:10" },
    "2026-03-03": { fajr: "05:29", dhuhr: "12:25", asr: "15:11", maghrib: "17:52", isha: "19:12" },
    "2026-03-04": { fajr: "05:26", dhuhr: "12:25", asr: "15:13", maghrib: "17:54", isha: "19:14" },
    "2026-03-05": { fajr: "05:23", dhuhr: "12:24", asr: "15:14", maghrib: "17:55", isha: "19:15" },
    "2026-03-06": { fajr: "05:21", dhuhr: "12:24", asr: "15:15", maghrib: "17:57", isha: "19:17" },
    "2026-03-07": { fajr: "05:18", dhuhr: "12:24", asr: "15:16", maghrib: "17:59", isha: "19:19" },
    "2026-03-08": { fajr: "05:15", dhuhr: "12:23", asr: "15:17", maghrib: "18:01", isha: "19:21" },
    "2026-03-09": { fajr: "05:12", dhuhr: "12:23", asr: "15:18", maghrib: "18:03", isha: "19:23" },
    "2026-03-10": { fajr: "05:10", dhuhr: "12:23", asr: "15:20", maghrib: "18:04", isha: "19:24" },
    "2026-03-11": { fajr: "05:07", dhuhr: "12:23", asr: "15:21", maghrib: "18:06", isha: "19:26" },
    "2026-03-12": { fajr: "05:04", dhuhr: "12:23", asr: "15:22", maghrib: "18:08", isha: "19:28" },
    "2026-03-13": { fajr: "05:01", dhuhr: "12:23", asr: "15:23", maghrib: "18:10", isha: "19:30" },
    "2026-03-14": { fajr: "04:59", dhuhr: "12:22", asr: "15:24", maghrib: "18:11", isha: "19:31" },
    "2026-03-15": { fajr: "04:56", dhuhr: "12:22", asr: "15:25", maghrib: "18:13", isha: "19:33" },
    "2026-03-16": { fajr: "04:53", dhuhr: "12:22", asr: "15:27", maghrib: "18:15", isha: "19:35" },
    "2026-03-17": { fajr: "04:50", dhuhr: "12:21", asr: "15:28", maghrib: "18:17", isha: "19:37" },
    "2026-03-18": { fajr: "04:48", dhuhr: "12:21", asr: "15:29", maghrib: "18:19", isha: "19:39" },
    "2026-03-19": { fajr: "04:45", dhuhr: "12:21", asr: "15:30", maghrib: "18:20", isha: "19:40" },
    "2026-03-20": { fajr: "04:42", dhuhr: "12:20", asr: "15:34", maghrib: "18:23", isha: "19:43" },
    "2026-03-21": { fajr: "04:39", dhuhr: "12:20", asr: "15:35", maghrib: "18:25", isha: "19:45" },
    "2026-03-22": { fajr: "04:37", dhuhr: "12:19", asr: "15:36", maghrib: "18:27", isha: "19:47" },
    "2026-03-23": { fajr: "04:34", dhuhr: "12:19", asr: "15:37", maghrib: "18:28", isha: "19:48" },
    "2026-03-24": { fajr: "04:31", dhuhr: "12:19", asr: "15:38", maghrib: "18:30", isha: "19:50" },
    "2026-03-25": { fajr: "04:29", dhuhr: "12:18", asr: "15:40", maghrib: "18:32", isha: "19:52" },
    "2026-03-26": { fajr: "04:26", dhuhr: "12:18", asr: "15:41", maghrib: "18:34", isha: "19:54" },
    "2026-03-27": { fajr: "04:23", dhuhr: "12:18", asr: "15:42", maghrib: "18:35", isha: "19:55" },
    "2026-03-28": { fajr: "04:20", dhuhr: "12:17", asr: "15:43", maghrib: "18:37", isha: "19:57" },
    "2026-03-29": { fajr: "05:17", dhuhr: "13:17", asr: "16:44", maghrib: "19:39", isha: "20:59" },
    "2026-03-30": { fajr: "05:15", dhuhr: "13:17", asr: "16:45", maghrib: "19:41", isha: "21:01" },
    "2026-03-31": { fajr: "05:12", dhuhr: "13:16", asr: "16:46", maghrib: "19:42", isha: "21:02" },
    "2026-05-01": { fajr: "03:54", dhuhr: "13:10", asr: "17:09", maghrib: "20:36", isha: "21:56" },
    "2026-05-02": { fajr: "03:52", dhuhr: "13:10", asr: "17:10", maghrib: "20:38", isha: "21:58" },
    "2026-05-03": { fajr: "03:49", dhuhr: "13:10", asr: "17:11", maghrib: "20:40", isha: "22:00" },
    "2026-05-04": { fajr: "03:47", dhuhr: "13:09", asr: "17:11", maghrib: "20:41", isha: "22:01" },
    "2026-05-05": { fajr: "03:45", dhuhr: "13:09", asr: "17:12", maghrib: "20:43", isha: "22:03" },
    "2026-05-06": { fajr: "03:42", dhuhr: "13:09", asr: "17:13", maghrib: "20:45", isha: "22:05" },
    "2026-05-07": { fajr: "03:40", dhuhr: "13:09", asr: "17:13", maghrib: "20:46", isha: "22:06" },
    "2026-05-08": { fajr: "03:38", dhuhr: "13:09", asr: "17:14", maghrib: "20:48", isha: "22:08" },
    "2026-05-09": { fajr: "03:36", dhuhr: "13:09", asr: "17:15", maghrib: "20:50", isha: "22:10" },
    "2026-05-10": { fajr: "03:33", dhuhr: "13:09", asr: "17:15", maghrib: "20:51", isha: "22:11" },
    "2026-05-11": { fajr: "03:31", dhuhr: "13:09", asr: "17:16", maghrib: "20:53", isha: "22:13" },
    "2026-05-12": { fajr: "03:29", dhuhr: "13:09", asr: "17:17", maghrib: "20:55", isha: "22:15" },
    "2026-05-13": { fajr: "03:26", dhuhr: "13:09", asr: "17:17", maghrib: "20:56", isha: "22:16" },
    "2026-05-14": { fajr: "03:24", dhuhr: "13:09", asr: "17:18", maghrib: "20:58", isha: "22:18" },
    "2026-05-15": { fajr: "03:22", dhuhr: "13:09", asr: "17:18", maghrib: "20:59", isha: "22:19" },
    "2026-05-16": { fajr: "03:19", dhuhr: "13:09", asr: "17:19", maghrib: "21:01", isha: "22:21" },
    "2026-05-17": { fajr: "03:17", dhuhr: "13:09", asr: "17:20", maghrib: "21:03", isha: "22:23" },
    "2026-05-18": { fajr: "03:14", dhuhr: "13:09", asr: "17:21", maghrib: "21:04", isha: "22:24" },
    "2026-05-19": { fajr: "03:12", dhuhr: "13:09", asr: "17:21", maghrib: "21:06", isha: "22:26" },
    "2026-05-20": { fajr: "03:09", dhuhr: "13:09", asr: "17:22", maghrib: "21:07", isha: "22:27" },
    "2026-05-21": { fajr: "03:06", dhuhr: "13:09", asr: "17:23", maghrib: "21:09", isha: "22:29" },
    "2026-05-22": { fajr: "03:03", dhuhr: "13:09", asr: "17:23", maghrib: "21:10", isha: "22:30" },
    "2026-05-23": { fajr: "03:00", dhuhr: "13:09", asr: "17:24", maghrib: "21:11", isha: "22:31" },
    "2026-05-24": { fajr: "02:58", dhuhr: "13:09", asr: "17:24", maghrib: "21:13", isha: "22:33" },
    "2026-05-25": { fajr: "02:56", dhuhr: "13:10", asr: "17:24", maghrib: "21:14", isha: "22:34" },
    "2026-05-26": { fajr: "02:54", dhuhr: "13:10", asr: "17:25", maghrib: "21:16", isha: "22:36" },
    "2026-05-27": { fajr: "02:51", dhuhr: "13:10", asr: "17:26", maghrib: "21:17", isha: "22:37" },
    "2026-05-28": { fajr: "02:50", dhuhr: "13:10", asr: "17:26", maghrib: "21:18", isha: "22:38" },
    "2026-05-29": { fajr: "02:48", dhuhr: "13:10", asr: "17:27", maghrib: "21:19", isha: "22:39" },
    "2026-05-30": { fajr: "02:46", dhuhr: "13:10", asr: "17:27", maghrib: "21:21", isha: "22:41" },
    "2026-05-31": { fajr: "02:44", dhuhr: "13:10", asr: "17:28", maghrib: "21:22", isha: "22:42" },
    "2026-06-01": { fajr: "02:42", dhuhr: "13:11", asr: "17:28", maghrib: "21:23", isha: "22:43" },
    "2026-06-02": { fajr: "02:41", dhuhr: "13:11", asr: "17:28", maghrib: "21:24", isha: "22:44" },
    "2026-06-03": { fajr: "02:39", dhuhr: "13:11", asr: "17:28", maghrib: "21:25", isha: "22:45" },
    "2026-06-04": { fajr: "02:37", dhuhr: "13:11", asr: "17:29", maghrib: "21:26", isha: "22:46" },
    "2026-06-05": { fajr: "02:35", dhuhr: "13:11", asr: "17:29", maghrib: "21:27", isha: "22:47" },
    "2026-06-06": { fajr: "02:34", dhuhr: "13:11", asr: "17:29", maghrib: "21:28", isha: "22:48" },
    "2026-06-07": { fajr: "02:32", dhuhr: "13:12", asr: "17:30", maghrib: "21:29", isha: "22:49" },
    "2026-06-08": { fajr: "02:31", dhuhr: "13:12", asr: "17:31", maghrib: "21:30", isha: "22:50" },
    "2026-06-09": { fajr: "02:30", dhuhr: "13:12", asr: "17:31", maghrib: "21:31", isha: "22:51" },
    "2026-06-10": { fajr: "02:30", dhuhr: "13:12", asr: "17:32", maghrib: "21:32", isha: "22:52" },
    "2026-06-11": { fajr: "02:30", dhuhr: "13:12", asr: "17:32", maghrib: "21:32", isha: "22:52" },
    "2026-06-12": { fajr: "02:30", dhuhr: "13:12", asr: "17:32", maghrib: "21:33", isha: "22:53" },
    "2026-06-13": { fajr: "02:30", dhuhr: "13:13", asr: "17:33", maghrib: "21:34", isha: "22:54" },
    "2026-06-14": { fajr: "02:30", dhuhr: "13:13", asr: "17:33", maghrib: "21:34", isha: "22:54" },
    "2026-06-15": { fajr: "02:30", dhuhr: "13:13", asr: "17:33", maghrib: "21:35", isha: "22:55" },
    "2026-06-16": { fajr: "02:30", dhuhr: "13:14", asr: "17:34", maghrib: "21:35", isha: "22:55" },
    "2026-06-17": { fajr: "02:30", dhuhr: "13:14", asr: "17:34", maghrib: "21:36", isha: "22:56" },
    "2026-06-18": { fajr: "02:30", dhuhr: "13:14", asr: "17:34", maghrib: "21:36", isha: "22:56" },
    "2026-06-19": { fajr: "02:30", dhuhr: "13:14", asr: "17:35", maghrib: "21:37", isha: "22:57" },
    "2026-06-20": { fajr: "02:30", dhuhr: "13:14", asr: "17:35", maghrib: "21:37", isha: "22:57" },
    "2026-06-21": { fajr: "02:30", dhuhr: "13:14", asr: "17:35", maghrib: "21:37", isha: "22:57" },
    "2026-06-22": { fajr: "02:30", dhuhr: "13:15", asr: "17:35", maghrib: "21:37", isha: "22:57" },
    "2026-06-23": { fajr: "02:30", dhuhr: "13:15", asr: "17:35", maghrib: "21:37", isha: "22:57" },
    "2026-06-24": { fajr: "02:30", dhuhr: "13:15", asr: "17:35", maghrib: "21:38", isha: "22:58" },
    "2026-06-25": { fajr: "02:30", dhuhr: "13:16", asr: "17:36", maghrib: "21:38", isha: "22:58" },
    "2026-06-26": { fajr: "02:31", dhuhr: "13:16", asr: "17:36", maghrib: "21:37", isha: "22:57" },
    "2026-06-27": { fajr: "02:31", dhuhr: "13:16", asr: "17:36", maghrib: "21:37", isha: "22:57" },
    "2026-06-28": { fajr: "02:31", dhuhr: "13:16", asr: "17:36", maghrib: "21:37", isha: "22:57" },
    "2026-06-29": { fajr: "02:31", dhuhr: "13:16", asr: "17:36", maghrib: "21:37", isha: "22:57" },
    "2026-06-30": { fajr: "02:32", dhuhr: "13:16", asr: "17:36", maghrib: "21:37", isha: "22:57" }
};

const IQAMAH_DATA = {
    "2026-01-01": { fajr: "06:50", dhuhr: "13:00", asr: "14:00", isha: "20:00" },
    "2026-01-02": { fajr: "06:50", dhuhr: "13:00", asr: "14:00", isha: "20:00" },
    "2026-01-03": { fajr: "06:50", dhuhr: "13:00", asr: "14:00", isha: "20:00" },
    "2026-01-04": { fajr: "06:50", dhuhr: "13:00", asr: "14:00", isha: "20:00" },
    "2026-01-05": { fajr: "06:50", dhuhr: "13:00", asr: "14:15", isha: "20:00" },
    "2026-01-06": { fajr: "06:50", dhuhr: "13:00", asr: "14:15", isha: "20:00" },
    "2026-01-07": { fajr: "06:50", dhuhr: "13:00", asr: "14:15", isha: "20:00" },
    "2026-01-08": { fajr: "06:50", dhuhr: "13:00", asr: "14:15", isha: "20:00" },
    "2026-01-09": { fajr: "06:50", dhuhr: "13:00", asr: "14:15", isha: "20:00" },
    "2026-01-10": { fajr: "06:50", dhuhr: "13:00", asr: "14:15", isha: "20:00" },
    "2026-01-11": { fajr: "06:50", dhuhr: "13:00", asr: "14:15", isha: "20:00" },
    "2026-01-12": { fajr: "06:45", dhuhr: "13:00", asr: "14:30", isha: "20:00" },
    "2026-01-13": { fajr: "06:45", dhuhr: "13:00", asr: "14:30", isha: "20:00" },
    "2026-01-14": { fajr: "06:45", dhuhr: "13:00", asr: "14:30", isha: "20:00" },
    "2026-01-15": { fajr: "06:45", dhuhr: "13:00", asr: "14:30", isha: "20:00" },
    "2026-01-16": { fajr: "06:45", dhuhr: "13:00", asr: "14:30", isha: "20:00" },
    "2026-01-17": { fajr: "06:45", dhuhr: "13:00", asr: "14:30", isha: "20:00" },
    "2026-01-18": { fajr: "06:45", dhuhr: "13:00", asr: "14:30", isha: "20:00" },
    "2026-01-19": { fajr: "06:45", dhuhr: "13:00", asr: "14:40", isha: "20:00" },
    "2026-01-20": { fajr: "06:45", dhuhr: "13:00", asr: "14:40", isha: "20:00" },
    "2026-01-21": { fajr: "06:45", dhuhr: "13:00", asr: "14:40", isha: "20:00" },
    "2026-01-22": { fajr: "06:45", dhuhr: "13:00", asr: "14:40", isha: "20:00" },
    "2026-01-23": { fajr: "06:45", dhuhr: "13:00", asr: "14:40", isha: "20:00" },
    "2026-01-24": { fajr: "06:45", dhuhr: "13:00", asr: "14:40", isha: "20:00" },
    "2026-01-25": { fajr: "06:45", dhuhr: "13:00", asr: "14:40", isha: "20:00" },
    "2026-01-26": { fajr: "06:35", dhuhr: "13:00", asr: "14:45", isha: "20:00" },
    "2026-01-27": { fajr: "06:35", dhuhr: "13:00", asr: "14:45", isha: "20:00" },
    "2026-01-28": { fajr: "06:35", dhuhr: "13:00", asr: "14:45", isha: "20:00" },
    "2026-01-29": { fajr: "06:35", dhuhr: "13:00", asr: "14:45", isha: "20:00" },
    "2026-01-30": { fajr: "06:35", dhuhr: "13:00", asr: "14:45", isha: "20:00" },
    "2026-01-31": { fajr: "06:35", dhuhr: "13:00", asr: "14:45", isha: "20:00" },
    "2026-02-01": { fajr: "06:35", dhuhr: "13:00", asr: "14:45", isha: "20:00" },
    "2026-02-02": { fajr: "06:30", dhuhr: "13:00", asr: "15:00", isha: "20:00" },
    "2026-02-03": { fajr: "06:30", dhuhr: "13:00", asr: "15:00", isha: "20:00" },
    "2026-02-04": { fajr: "06:30", dhuhr: "13:00", asr: "15:00", isha: "20:00" },
    "2026-02-05": { fajr: "06:30", dhuhr: "13:00", asr: "15:00", isha: "20:00" },
    "2026-02-06": { fajr: "06:30", dhuhr: "13:00", asr: "15:00", isha: "20:00" },
    "2026-02-07": { fajr: "06:30", dhuhr: "13:00", asr: "15:00", isha: "20:00" },
    "2026-02-08": { fajr: "06:30", dhuhr: "13:00", asr: "15:00", isha: "20:00" },
    "2026-02-09": { fajr: "06:20", dhuhr: "13:00", asr: "15:00", isha: "20:00" },
    "2026-02-10": { fajr: "06:20", dhuhr: "13:00", asr: "15:00", isha: "20:00" },
    "2026-02-11": { fajr: "06:20", dhuhr: "13:00", asr: "15:00", isha: "20:00" },
    "2026-02-12": { fajr: "06:20", dhuhr: "13:00", asr: "15:00", isha: "20:00" },
    "2026-02-13": { fajr: "06:20", dhuhr: "13:00", asr: "15:00", isha: "20:00" },
    "2026-02-14": { fajr: "06:20", dhuhr: "13:00", asr: "15:00", isha: "20:00" },
    "2026-02-15": { fajr: "06:20", dhuhr: "13:00", asr: "15:00", isha: "20:00" },
    "2026-02-16": { fajr: "06:10", dhuhr: "13:00", asr: "15:15", isha: "20:00" },
    "2026-02-17": { fajr: "06:10", dhuhr: "13:00", asr: "15:15", isha: "20:00" },
    "2026-02-18": { fajr: "06:06", dhuhr: "13:00", asr: "15:15", isha: "20:00" },
    "2026-02-19": { fajr: "06:05", dhuhr: "13:00", asr: "15:15", isha: "20:00" },
    "2026-02-20": { fajr: "06:03", dhuhr: "13:00", asr: "15:15", isha: "20:00" },
    "2026-02-21": { fajr: "06:01", dhuhr: "13:00", asr: "15:15", isha: "20:00" },
    "2026-02-22": { fajr: "06:00", dhuhr: "13:00", asr: "15:15", isha: "20:00" },
    "2026-02-23": { fajr: "05:58", dhuhr: "13:00", asr: "15:30", isha: "20:00" },
    "2026-02-24": { fajr: "05:56", dhuhr: "13:00", asr: "15:30", isha: "20:00" },
    "2026-02-25": { fajr: "05:54", dhuhr: "13:00", asr: "15:30", isha: "20:00" },
    "2026-02-26": { fajr: "05:51", dhuhr: "13:00", asr: "15:30", isha: "20:00" },
    "2026-02-27": { fajr: "05:49", dhuhr: "13:00", asr: "15:30", isha: "20:00" },
    "2026-02-28": { fajr: "05:46", dhuhr: "13:00", asr: "15:30", isha: "20:00" },
    "2026-03-01": { fajr: "05:44", dhuhr: "13:00", asr: "15:30", isha: "20:00" },
    "2026-03-02": { fajr: "05:41", dhuhr: "13:00", asr: "15:40", isha: "20:00" },
    "2026-03-03": { fajr: "05:39", dhuhr: "13:00", asr: "15:40", isha: "20:00" },
    "2026-03-04": { fajr: "05:36", dhuhr: "13:00", asr: "15:40", isha: "20:00" },
    "2026-03-05": { fajr: "05:33", dhuhr: "13:00", asr: "15:40", isha: "20:00" },
    "2026-03-06": { fajr: "05:31", dhuhr: "13:00", asr: "15:40", isha: "20:00" },
    "2026-03-07": { fajr: "04:28", dhuhr: "13:00", asr: "15:40", isha: "20:00" },
    "2026-03-08": { fajr: "05:25", dhuhr: "13:00", asr: "15:40", isha: "20:00" },
    "2026-03-09": { fajr: "05:22", dhuhr: "13:00", asr: "15:50", isha: "20:00" },
    "2026-03-10": { fajr: "05:20", dhuhr: "13:00", asr: "15:50", isha: "20:00" },
    "2026-03-11": { fajr: "05:17", dhuhr: "13:00", asr: "15:50", isha: "20:00" },
    "2026-03-12": { fajr: "05:14", dhuhr: "13:00", asr: "15:50", isha: "20:00" },
    "2026-03-13": { fajr: "05:11", dhuhr: "13:00", asr: "15:50", isha: "20:00" },
    "2026-03-14": { fajr: "05:09", dhuhr: "13:00", asr: "15:50", isha: "20:00" },
    "2026-03-15": { fajr: "05:06", dhuhr: "13:30", asr: "15:50", isha: "20:00" },
    "2026-03-16": { fajr: "05:03", dhuhr: "13:30", asr: "16:00", isha: "20:00" },
    "2026-03-17": { fajr: "05:00", dhuhr: "13:30", asr: "16:00", isha: "20:00" },
    "2026-03-18": { fajr: "04:58", dhuhr: "13:30", asr: "16:00", isha: "20:00" },
    "2026-03-19": { fajr: "04:55", dhuhr: "13:30", asr: "16:00", isha: "20:00" },
    "2026-03-20": { fajr: "05:00", dhuhr: "13:00", asr: "16:00", isha: "20:00" },
    "2026-03-21": { fajr: "05:00", dhuhr: "13:00", asr: "16:00", isha: "20:00" },
    "2026-03-22": { fajr: "05:00", dhuhr: "13:00", asr: "16:00", isha: "20:00" },
    "2026-03-23": { fajr: "04:45", dhuhr: "13:00", asr: "16:30", isha: "20:00" },
    "2026-03-24": { fajr: "04:45", dhuhr: "13:00", asr: "16:30", isha: "20:00" },
    "2026-03-25": { fajr: "04:45", dhuhr: "13:00", asr: "16:30", isha: "20:00" },
    "2026-03-26": { fajr: "04:45", dhuhr: "13:00", asr: "16:30", isha: "20:00" },
    "2026-03-27": { fajr: "04:45", dhuhr: "13:00", asr: "16:30", isha: "20:00" },
    "2026-03-28": { fajr: "04:45", dhuhr: "13:00", asr: "16:30", isha: "20:00" },
    "2026-03-29": { fajr: "05:45", dhuhr: "13:30", asr: "17:30", isha: "21:20" },
    "2026-03-30": { fajr: "05:35", dhuhr: "13:30", asr: "17:45", isha: "21:20" },
    "2026-03-31": { fajr: "05:35", dhuhr: "13:30", asr: "17:45", isha: "21:20" },
    "2026-05-01": { fajr: "04:20", dhuhr: "13:30", asr: "19:00", isha: "22:05" },
    "2026-05-02": { fajr: "04:20", dhuhr: "13:30", asr: "19:00", isha: "22:05" },
    "2026-05-03": { fajr: "04:20", dhuhr: "13:30", asr: "19:00", isha: "22:05" },
    "2026-05-04": { fajr: "04:10", dhuhr: "13:30", asr: "19:00", isha: "22:20" },
    "2026-05-05": { fajr: "04:10", dhuhr: "13:30", asr: "19:00", isha: "22:20" },
    "2026-05-06": { fajr: "04:10", dhuhr: "13:30", asr: "19:00", isha: "22:20" },
    "2026-05-07": { fajr: "04:10", dhuhr: "13:30", asr: "19:00", isha: "22:20" },
    "2026-05-08": { fajr: "04:10", dhuhr: "13:30", asr: "19:00", isha: "22:20" },
    "2026-05-09": { fajr: "04:10", dhuhr: "13:30", asr: "19:00", isha: "22:20" },
    "2026-05-10": { fajr: "04:10", dhuhr: "13:30", asr: "19:00", isha: "22:20" },
    "2026-05-11": { fajr: "03:55", dhuhr: "13:30", asr: "19:00", isha: "22:30" },
    "2026-05-12": { fajr: "03:55", dhuhr: "13:30", asr: "19:00", isha: "22:30" },
    "2026-05-13": { fajr: "03:55", dhuhr: "13:30", asr: "19:00", isha: "22:30" },
    "2026-05-14": { fajr: "03:55", dhuhr: "13:30", asr: "19:00", isha: "22:30" },
    "2026-05-15": { fajr: "03:55", dhuhr: "13:30", asr: "19:00", isha: "22:30" },
    "2026-05-16": { fajr: "03:55", dhuhr: "13:30", asr: "19:00", isha: "22:30" },
    "2026-05-17": { fajr: "03:55", dhuhr: "13:30", asr: "19:00", isha: "22:30" },
    "2026-05-18": { fajr: "03:35", dhuhr: "13:30", asr: "19:00", isha: "22:40" },
    "2026-05-19": { fajr: "03:35", dhuhr: "13:30", asr: "19:00", isha: "22:40" },
    "2026-05-20": { fajr: "03:35", dhuhr: "13:30", asr: "19:00", isha: "22:40" },
    "2026-05-21": { fajr: "03:35", dhuhr: "13:30", asr: "19:00", isha: "22:40" },
    "2026-05-22": { fajr: "03:35", dhuhr: "13:30", asr: "19:00", isha: "22:40" },
    "2026-05-23": { fajr: "03:35", dhuhr: "13:30", asr: "19:00", isha: "22:40" },
    "2026-05-24": { fajr: "03:35", dhuhr: "13:30", asr: "19:00", isha: "22:40" },
    "2026-05-25": { fajr: "03:20", dhuhr: "13:30", asr: "19:00", isha: "22:50" },
    "2026-05-26": { fajr: "03:20", dhuhr: "13:30", asr: "19:00", isha: "22:50" },
    "2026-05-27": { fajr: "03:20", dhuhr: "13:30", asr: "19:00", isha: "22:50" },
    "2026-05-28": { fajr: "03:20", dhuhr: "13:30", asr: "19:00", isha: "22:50" },
    "2026-05-29": { fajr: "03:20", dhuhr: "13:30", asr: "19:00", isha: "22:50" },
    "2026-05-30": { fajr: "03:20", dhuhr: "13:30", asr: "19:00", isha: "22:50" },
    "2026-05-31": { fajr: "03:20", dhuhr: "13:30", asr: "19:00", isha: "22:50" },
    "2026-06-01": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:00" },
    "2026-06-02": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:00" },
    "2026-06-03": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:00" },
    "2026-06-04": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:00" },
    "2026-06-05": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:00" },
    "2026-06-06": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:00" },
    "2026-06-07": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:00" },
    "2026-06-08": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:00" },
    "2026-06-09": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:00" },
    "2026-06-10": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:00" },
    "2026-06-11": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:00" },
    "2026-06-12": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:00" },
    "2026-06-13": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:00" },
    "2026-06-14": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:00" },
    "2026-06-15": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:05" },
    "2026-06-16": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:05" },
    "2026-06-17": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:05" },
    "2026-06-18": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:05" },
    "2026-06-19": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:05" },
    "2026-06-20": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:05" },
    "2026-06-21": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:05" },
    "2026-06-22": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:05" },
    "2026-06-23": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:05" },
    "2026-06-24": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:05" },
    "2026-06-25": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:05" },
    "2026-06-26": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:05" },
    "2026-06-27": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:05" },
    "2026-06-28": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:05" },
    "2026-06-29": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:05" },
    "2026-06-30": { fajr: "03:00", dhuhr: "13:30", asr: "19:00", isha: "23:05" }
};

// State
let iqamahDelays = { fajr: 15, dhuhr: 10, asr: 10, maghrib: 2, isha: 10 };
let todayPrayers = null;
let currentMonth = '';

// Get prayer for a date (uses closest earlier date or May default)
function getPrayerForDate(dateStr) {
    if (PRAYER_DATA[dateStr]) return PRAYER_DATA[dateStr];
    
    // Find closest earlier date
    const keys = Object.keys(PRAYER_DATA).sort();
    for (let i = keys.length - 1; i >= 0; i--) {
        if (keys[i] <= dateStr) return PRAYER_DATA[keys[i]];
    }
    return MAY_DEFAULT;
}


function getIqamahForDate(dateStr) {
    return (typeof IQAMAH_DATA !== 'undefined' && IQAMAH_DATA[dateStr]) ? IQAMAH_DATA[dateStr] : null;
}


// Initialize
function init() {
    loadSettings();
    loadTodayPrayers();
    renderMonthTabs();
    updateDisplay();
    setInterval(updateDisplay, 1000);
  fillVerticalTable();

}

function loadSettings() {
    const saved = localStorage.getItem('iqamahDelays');
    if (saved) iqamahDelays = JSON.parse(saved);
    document.getElementById('fajrDelay').value = iqamahDelays.fajr;
    document.getElementById('dhuhrDelay').value = iqamahDelays.dhuhr;
    document.getElementById('asrDelay').value = iqamahDelays.asr;
    document.getElementById('maghribDelay').value = iqamahDelays.maghrib;
    document.getElementById('ishaDelay').value = iqamahDelays.isha;
    
    // Load saved prayer data
    const savedPrayers = localStorage.getItem('prayerData');
    if (savedPrayers) {
        const data = JSON.parse(savedPrayers);
        Object.assign(PRAYER_DATA, data);
    }
}

function localISODate(d) {
  const y = d.getFullYear();
  const m = String(d.getMonth() + 1).padStart(2, '0');
  const day = String(d.getDate()).padStart(2, '0');
  return `${y}-${m}-${day}`;
}

function loadTodayPrayers() {
    const today = localISODate(new Date());
    todayPrayers = getPrayerForDate(today);
  fillVerticalTable();

}

function safeSetText(id, value) {
  const el = document.getElementById(id);
  if (el) el.textContent = value;
}

function updateDisplay() {
    const now = new Date();
    const dateStr = now.toLocaleDateString('en-GB', { weekday: 'short', day: 'numeric', month: 'short', year: 'numeric' });
    const timeStr = now.toLocaleTimeString('en-GB');
    safeSetText('dateDisplay', dateStr);
    safeSetText('currentTime', `Current: ${timeStr}`);

    const todayIso = localISODate(now);
    const todayIqamah = getIqamahForDate(todayIso);

    if (todayPrayers) {
        safeSetText('fajrAzan', todayPrayers.fajr);
        safeSetText('dhuhrAzan', todayPrayers.dhuhr);
        safeSetText('asrAzan', todayPrayers.asr);
        safeSetText('maghribAzan', todayPrayers.maghrib);
        safeSetText('ishaAzan', todayPrayers.isha);

        safeSetText('fajrIqamah', (todayIqamah && todayIqamah.fajr) ? todayIqamah.fajr : addMinutes(todayPrayers.fajr, iqamahDelays.fajr));
        safeSetText('dhuhrIqamah', (todayIqamah && todayIqamah.dhuhr) ? todayIqamah.dhuhr : addMinutes(todayPrayers.dhuhr, iqamahDelays.dhuhr));
        safeSetText('asrIqamah', (todayIqamah && todayIqamah.asr) ? todayIqamah.asr : addMinutes(todayPrayers.asr, iqamahDelays.asr));
        safeSetText('maghribIqamah', addMinutes(todayPrayers.maghrib, 2));
        safeSetText('ishaIqamah', (todayIqamah && todayIqamah.isha) ? todayIqamah.isha : addMinutes(todayPrayers.isha, iqamahDelays.isha));
    }
    updateCountdown(now);
  fillVerticalTable();

}

function addMinutes(timeStr, mins) {
    const [h, m] = timeStr.split(':').map(Number);
    const date = new Date();
    date.setHours(h, m + mins, 0);
    return date.toTimeString().slice(0, 5);
}

function parseTime(timeStr) {
    const [h, m] = timeStr.split(':').map(Number);
    const date = new Date();
    date.setHours(h, m, 0, 0);
    return date;
}

function updateCountdown(now) {
    if (!todayPrayers) return;

    const GRACE_MS = 60 * 1000; // 60 seconds after Iqamah

    const todayIso = localISODate(now);
    const todayIqamah = getIqamahForDate(todayIso);

    // Build per-prayer Azan/Iqamah times for TODAY (Iqamah from table where available; Maghrib = Azan + 2 minutes)
    const prayersToday = [
        { key:'fajr',    name:'Fajr',    azan: todayPrayers.fajr,    iqamah: (todayIqamah && todayIqamah.fajr)   ? todayIqamah.fajr   : addMinutes(todayPrayers.fajr,    iqamahDelays.fajr) },
        { key:'dhuhr',   name:'Dhuhr',   azan: todayPrayers.dhuhr,   iqamah: (todayIqamah && todayIqamah.dhuhr)  ? todayIqamah.dhuhr  : addMinutes(todayPrayers.dhuhr,   iqamahDelays.dhuhr) },
        { key:'asr',     name:'Asr',     azan: todayPrayers.asr,     iqamah: (todayIqamah && todayIqamah.asr)    ? todayIqamah.asr    : addMinutes(todayPrayers.asr,     iqamahDelays.asr) },
        { key:'maghrib', name:'Maghrib', azan: todayPrayers.maghrib, iqamah: addMinutes(todayPrayers.maghrib, 2) },
        { key:'isha',    name:'Isha',    azan: todayPrayers.isha,    iqamah: (todayIqamah && todayIqamah.isha)   ? todayIqamah.isha   : addMinutes(todayPrayers.isha,    iqamahDelays.isha) }
    ];

    // Find current/next slot for TODAY, including 60s grace after Iqamah
    let slot = null;
    for (const p of prayersToday) {
        const azanTime = parseTime(p.azan);
        const iqamahTime = parseTime(p.iqamah);
        const graceEnd = new Date(iqamahTime.getTime() + GRACE_MS);

        if (now < graceEnd) {
            slot = { ...p, azanTime, iqamahTime, graceEnd, day: 'today' };
            break;
        }
    }

    // If after Isha grace -> use TOMORROW Fajr (from data, not by shifting today's time)
    if (!slot) {
        const tomorrow = new Date(now);
        tomorrow.setDate(tomorrow.getDate() + 1);
        const tomorrowIso = localISODate(tomorrow);

        const tomorrowPrayers = getPrayerForDate(tomorrowIso);
        const tomorrowIqamah = getIqamahForDate(tomorrowIso);

        const azanStr = tomorrowPrayers.fajr || todayPrayers.fajr;
        const iqamahStr =
          (tomorrowIqamah && tomorrowIqamah.fajr)
            ? tomorrowIqamah.fajr
            : addMinutes(azanStr, iqamahDelays.fajr);

        const azanTime = parseTime(azanStr);
        const iqamahTime = parseTime(iqamahStr);

        // Ensure date is tomorrow
        azanTime.setFullYear(tomorrow.getFullYear(), tomorrow.getMonth(), tomorrow.getDate());
        iqamahTime.setFullYear(tomorrow.getFullYear(), tomorrow.getMonth(), tomorrow.getDate());

        slot = { key:'fajr', name:'Fajr', azan: azanStr, iqamah: iqamahStr, azanTime, iqamahTime, graceEnd: new Date(iqamahTime.getTime() + GRACE_MS), day: 'tomorrow' };
    }

    // Update "Next Prayer" panel (always)
    safeSetText('nextPrayerName', `Next: ${slot.name}${slot.day === 'tomorrow' ? ' (Tomorrow)' : ''}`);
    safeSetText('nextAzanTime', String(slot.azan).slice(0,5));
    safeSetText('nextIqamahTime', String(slot.iqamah).slice(0,5));

    // Behaviour phases
    if (now < slot.azanTime) {
        // Before Azan: show static info, no reverse counter
        safeSetText('countdownLabel', `Next Iqamah`);
        safeSetText('countdownTime', String(slot.iqamah).slice(0,5));
        safeSetText('countdownStatus', '');
        return;
    }

    if (now >= slot.azanTime && now < slot.iqamahTime) {
        // Reverse countdown to Iqamah
        const diff = Math.max(0, Math.floor((slot.iqamahTime - now) / 1000));
        const h = String(Math.floor(diff / 3600)).padStart(2, '0');
        const m = String(Math.floor((diff % 3600) / 60)).padStart(2, '0');
        const s = String(diff % 60).padStart(2, '0');

        safeSetText('countdownLabel', `${slot.name} Iqamah`);
        safeSetText('countdownTime', `${h}:${m}:${s}`);
        safeSetText('countdownStatus', 'in');
        return;
    }

    if (now >= slot.iqamahTime && now < slot.graceEnd) {
        // Iqamah Now for 60 seconds, then it will advance automatically (via slot selection next tick)
        safeSetText('countdownLabel', `${slot.name} Iqamah`);
        safeSetText('countdownTime', 'NOW');
        safeSetText('countdownStatus', '');
        return;
    }
}


function switchTab(tab) {
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.display-tab, .settings-tab, .setup-tab').forEach(t => t.classList.remove('active'));
    event.target.classList.add('active');
    document.getElementById(tab + 'Tab').classList.add('active');
}

function saveIqamahSettings() {
    iqamahDelays = {
        fajr: parseInt(document.getElementById('fajrDelay').value) || 15,
        dhuhr: parseInt(document.getElementById('dhuhrDelay').value) || 10,
        asr: parseInt(document.getElementById('asrDelay').value) || 10,
        maghrib: parseInt(document.getElementById('maghribDelay').value) || 2,
        isha: parseInt(document.getElementById('ishaDelay').value) || 10
    };
    localStorage.setItem('iqamahDelays', JSON.stringify(iqamahDelays));
    showToast('‚úÖ Iqamah saved!');
    updateDisplay();
}

function resetIqamahSettings() {
    iqamahDelays = { fajr: 15, dhuhr: 10, asr: 10, maghrib: 2, isha: 10 };
    localStorage.setItem('iqamahDelays', JSON.stringify(iqamahDelays));
    loadSettings();
    showToast('üîÑ Reset!');
    updateDisplay();
}

// 12 Months - January first
function renderMonthTabs() {
    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
    const now = new Date();
    const currentKey = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}`;
    currentMonth = currentKey;
    
    let html = '';
    for (let m = 1; m <= 12; m++) {
        const year = m >= 1 && m <= 5 ? 2026 : (m === 12 ? 2025 : 2026);
        const key = `${year}-${String(m).padStart(2, '0')}`;
        const isCurrent = key === currentKey;
        html += `<button class="month-btn ${isCurrent ? 'current active' : ''}" onclick="selectMonth('${key}')">${months[m-1]}</button>`;
    }
    document.getElementById('monthTabs').innerHTML = html;
    renderTimeInputs();
}

function selectMonth(key) {
    currentMonth = key;
    document.querySelectorAll('.month-btn').forEach(b => b.classList.remove('active'));
    event.target.classList.add('active');
    renderTimeInputs();
}

function renderTimeInputs() {
    const [year, month] = currentMonth.split('-').map(Number);
    const days = new Date(year, month, 0).getDate();
    
    let html = '';
    for (let d = 1; d <= days; d++) {
        const key = `${year}-${String(month).padStart(2, '0')}-${String(d).padStart(2, '0')}`;
        const data = getPrayerForDate(key);
        html += `<div class="day-row">
            <label>${d}</label>
            <input type="time" data-date="${key}" data-prayer="fajr" value="${data.fajr}">
            <input type="time" data-date="${key}" data-prayer="dhuhr" value="${data.dhuhr}">
            <input type="time" data-date="${key}" data-prayer="asr" value="${data.asr}">
            <input type="time" data-date="${key}" data-prayer="maghrib" value="${data.maghrib}">
            <input type="time" data-date="${key}" data-prayer="isha" value="${data.isha}">
        </div>`;
    }
    document.getElementById('timeInputs').innerHTML = html;
}

function savePrayerTimes() {
    const savedData = {};
    document.querySelectorAll('#timeInputs input').forEach(input => {
        const key = input.dataset.date;
        const prayer = input.dataset.prayer;
        if (!savedData[key]) savedData[key] = {};
        savedData[key][prayer] = input.value;
        PRAYER_DATA[key] = savedData[key];
    });
    localStorage.setItem('prayerData', JSON.stringify(PRAYER_DATA));
    loadTodayPrayers();
    showToast('‚úÖ Saved!');
    updateDisplay();
}

function showToast(msg) {
    const toast = document.getElementById('toast');
    toast.textContent = msg;
    toast.classList.add('show');
    setTimeout(() => toast.classList.remove('show'), 2000);
}

document.addEventListener('DOMContentLoaded', init);
</script>




<script>
  // Local-safe auto-reload (Android TV friendly): one-shot reload after 15 minutes.
  // Avoids setInterval/localStorage/visibility handlers that can cause reload loops on some TV browsers.
  setTimeout(function () {
    location.href = location.href;
  }, 15 * 60 * 1000);
</script>

</div></div>

<script>
(function () {
  try {
    var p = new URLSearchParams(location.search);
    var rot = (p.get('rot') || '').toLowerCase();
    document.documentElement.style.setProperty('--rot', rot === 'left' ? '-90deg' : '90deg');
  } catch (e) {}
})();
</script>



<script>
function fillVerticalTable() {
  try {
    if (typeof todayPrayers === 'undefined' || !todayPrayers) return;

    const dateKey = (typeof localISODate === 'function') ? localISODate(new Date()) : (new Date().toISOString().split('T')[0]);
    const iq = (typeof IQAMAH_DATA !== 'undefined' && IQAMAH_DATA && IQAMAH_DATA[dateKey]) ? IQAMAH_DATA[dateKey] : null;

    const keys = ['fajr','dhuhr','asr','maghrib','isha'];

    keys.forEach((key) => {
      const az = todayPrayers[key];
      const azEl = document.getElementById('azan-' + key);
      if (azEl) azEl.textContent = az || '--:--';

      let iqTime = '--:--';

      if (key === 'maghrib') {
        // Always 2 minutes after Azan
        if (az) iqTime = addMinutes(az, 2);
      } else {
        // Prefer IQAMAH_DATA (exact times), fallback to delay logic if needed
        if (iq && iq[key]) {
          iqTime = iq[key];
        } else if (az && typeof iqamahDelays !== 'undefined' && iqamahDelays) {
          iqTime = addMinutes(az, iqamahDelays[key] || 0);
        }
      }

      const iqEl = document.getElementById('iqamah-' + key);
      if (iqEl) iqEl.textContent = iqTime;
    });
  } catch (e) {
    // Fail silently on TV browsers
  }
}
</script>


<script>
/* ===== SIGNAGE-LITE (Android TV / low-RAM WebView safe) ===== */
(function(){
  let uiMinuteTimer = null;
  let stateTimer30s = null;
  let countdown1s = null;
  let reloadCheck5m = null;

  function stop(id, fn){ try{ if(id) fn(id); }catch(e){} return null; }

  function clearAllExistingTimers(){
    const reg = window.__SIGNAGE_TIMERS__;
    if (!reg) return;
    reg.intervals.forEach((id)=>{ try{ reg._clearInterval(id); }catch(e){} });
    reg.timeouts.forEach((id)=>{ try{ reg._clearTimeout(id); }catch(e){} });
    reg.intervals.clear();
    reg.timeouts.clear();
  }

  function safeSetText(id, txt){
    const el = document.getElementById(id);
    if (el) el.textContent = txt;
  }

  function parseHHMM(str){
    if (!str || typeof str !== 'string') return null;
    const s = str.trim();
    const m = s.match(/^(\d{1,2}):(\d{2})(?::(\d{2}))?$/);
    if (!m) return null;
    const h = parseInt(m[1],10), mi = parseInt(m[2],10), se = m[3]?parseInt(m[3],10):0;
    if (h>23||mi>59||se>59) return null;
    const d = new Date();
    d.setHours(h, mi, se, 0);
    return d;
  }

  function localISODate(d){
    const y = d.getFullYear();
    const m = String(d.getMonth()+1).padStart(2,'0');
    const day = String(d.getDate()).padStart(2,'0');
    return `${y}-${m}-${day}`;
  }

  function getTodayData(){
    try{ if (typeof loadTodayPrayers === 'function') loadTodayPrayers(); }catch(e){}
    if (typeof todayPrayers === 'undefined' || !todayPrayers) return null;

    const dateKey = localISODate(new Date());
    const iqBlock = (typeof IQAMAH_DATA !== 'undefined' && IQAMAH_DATA && IQAMAH_DATA[dateKey]) ? IQAMAH_DATA[dateKey] : null;

    function iqTimeFor(key){
      if (key === 'maghrib') {
        const az = todayPrayers.maghrib;
        if (!az || typeof addMinutes !== 'function') return null;
        return parseHHMM(addMinutes(az, 2));
      }
      if (iqBlock && iqBlock[key]) return parseHHMM(iqBlock[key]);
      return null;
    }
    return { dateKey, iqBlock, iqTimeFor };
  }

  function getUpcomingSlot(){
    const data = getTodayData();
    if (!data) return null;

    const order = ['fajr','dhuhr','asr','maghrib','isha'];
    const names = {fajr:'Fajr',dhuhr:'Dhuhr',asr:'Asr',maghrib:'Maghrib',isha:'Isha'};
    const now = new Date();

    for (const key of order){
      const az = parseHHMM(todayPrayers[key]);
      const iq = data.iqTimeFor(key);
      if (!az || !iq) continue;
      if (now < iq) return { key, name:names[key], azan:az, iqamah:iq };
    }

    // After Isha -> tomorrow Fajr (best effort)
    const t = new Date(); t.setDate(t.getDate()+1);
    const tKey = localISODate(t);

    if (typeof PRAYER_DATA !== 'undefined' && PRAYER_DATA && PRAYER_DATA[tKey]) {
      const p = PRAYER_DATA[tKey];
      const az = parseHHMM(p.fajr || p.Fajr || p.fajr_start || p.fajrAzan || p.fajr_azan || p.fajrStart);
      let iq = null;
      if (typeof IQAMAH_DATA !== 'undefined' && IQAMAH_DATA && IQAMAH_DATA[tKey] && IQAMAH_DATA[tKey].fajr){
        iq = parseHHMM(IQAMAH_DATA[tKey].fajr);
      }
      if (az && iq) return { key:'fajr', name:'Fajr (Tomorrow)', azan:az, iqamah:iq };
    }
    return null;
  }

  function formatMMSS(ms){
    const total = Math.max(0, Math.floor(ms/1000));
    const mm = Math.floor(total/60);
    const ss = total % 60;
    return String(mm).padStart(2,'0') + ":" + String(ss).padStart(2,'0');
  }
  function formatHHMM(d){
    const hh = String(d.getHours()).padStart(2,'0');
    const mm = String(d.getMinutes()).padStart(2,'0');
    return `${hh}:${mm}`;
  }

  function stopCountdown(){ countdown1s = stop(countdown1s, clearInterval); }

  function renderStaticNext(slot){
    safeSetText('nextPrayerName', slot ? slot.name : '--');
    safeSetText('nextAzanTime', slot ? formatHHMM(slot.azan) : '--:--');
    safeSetText('nextIqamahTime', slot ? formatHHMM(slot.iqamah) : '--:--');
  }

  function tickState(){
    const slot = getUpcomingSlot();
    if (!slot){
      safeSetText('countdownLabel', 'Next Iqamah');
      safeSetText('countdownTime', '--:--');
      stopCountdown();
      return;
    }

    renderStaticNext(slot);
    const now = new Date();

    if (now < slot.azan){
      safeSetText('countdownLabel', 'Next Iqamah');
      safeSetText('countdownTime', formatHHMM(slot.iqamah));
      stopCountdown();
      return;
    }

    if (now >= slot.azan && now < slot.iqamah){
      safeSetText('countdownLabel', slot.name + ' Iqamah in');
      if (!countdown1s){
        countdown1s = setInterval(()=>{
          const n = new Date();
          const diff = slot.iqamah - n;
          if (diff <= 0){
            safeSetText('countdownTime', '00:00');
            stopCountdown();
            return;
          }
          safeSetText('countdownTime', formatMMSS(diff));
        }, 1000);
      }
      return;
    }

    const sinceIq = now - slot.iqamah;
    if (sinceIq >= 0 && sinceIq < 60000){
      safeSetText('countdownLabel', 'IQAMAH NOW');
      safeSetText('countdownTime', '');
      stopCountdown();
      return;
    }

    stopCountdown();
  }

  function minuteUIRefresh(){
    // Light refresh: allow existing function to update date/table once per minute.
    try{ if (typeof updateDisplay === 'function') updateDisplay(); }catch(e){}
    tickState();
  }

  function startControlledReload(){
    reloadCheck5m = stop(reloadCheck5m, clearInterval);
    reloadCheck5m = setInterval(()=>{
      try{
        const slot = getUpcomingSlot();
        const now = new Date();
        const inCountdown = slot && now >= slot.azan && now < slot.iqamah;
        if (!inCountdown && now.getMinutes() === 0){
          location.reload();
        }
      }catch(e){}
    }, 5*60*1000);
  }

  function bootstrap(){
    clearAllExistingTimers();
    minuteUIRefresh();

    uiMinuteTimer = stop(uiMinuteTimer, clearInterval);
    uiMinuteTimer = setInterval(minuteUIRefresh, 60*1000);

    stateTimer30s = stop(stateTimer30s, clearInterval);
    stateTimer30s = setInterval(tickState, 30*1000);

    startControlledReload();
  }

  window.addEventListener('load', bootstrap);
})();
</script>

</body>
</html>
